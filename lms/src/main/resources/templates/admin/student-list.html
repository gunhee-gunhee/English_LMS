<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Instabiz_学生照会</title>

	<!-- Custom fonts for this template -->
	<link th:href="@{/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet" type="text/css">
	<link
		href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
		rel="stylesheet">

	<!-- Custom styles for this template -->
	<link th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet">

	<!-- Custom styles for this page -->
	<!-- <link th:href="@{/vendor/datatables/dataTables.bootstrap4.min.css}" rel="stylesheet"> -->
	


	<style>
		/* table sytle */
		#dataTable th.sorting_disabled::after,
		#dataTable th.sorting_disabled::before {
			display: none !important;
		}

		thead th {
			background-color: #5077ec;
			/* SB Admin 2 primary blue */
			color: white;
			font-weight: bold;
			text-align: center;
		}
		
		table.dataTable thead th {
		    text-align: center !important;
		}
		
		table.dataTable tbody td {
		    text-align: center !important;
		}


		/* 検索関連style */
		.search-box {
			width: 33%;
			min-width: 250px;
		}
	</style>
</head>

<body id="page-top">

	<!-- Page Wrapper -->
	<div id="wrapper">

		<div th:replace="~{fragments/sidebar-admin :: sidebar-admin}"></div>

		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">

				<div th:replace="~{fragments/topbar :: topbar('学生照会')}"></div>

				<!-- Begin Page Content -->
				<div class="container-fluid">
					<!--学生リスト-->
					<div class="card shadow mb-4">
						<div class="card-body">

							<!--検索-->
							<div class="input-group search-box mb-4">
								<input type="text" class="form-control search-input" placeholder="Search for..."
									aria-label="Search">
								<div class="input-group-append">
									<button class="btn btn-primary " type="button">
										<i class="fas fa-search"></i>
									</button>
								</div>
							</div>

							<!--検索件数-->
							<!--StudentListController-->
					        <form id="pageSizeForm" class="mb-4" method="get" th:action="@{/admin/student-list}">
								<input type="hidden" name="sort" th:value="${sort}">
								<input type="hidden" name="dir" th:value="${dir}">
								<input type="hidden" name="page" value="0">
								<select name="size" class="form-select form-select-sm rounded"
									    onchange="document.getElementById('pageSizeForm').submit()"
										style="width: auto; border-color: #bcbfc8; color: #6d6e77;">
									<option th:value="10" th:selected="${size == 10}">10</option>
									<option th:value="25" th:selected="${size == 25}">25</option>
									<option th:value="50" th:selected="${size == 50}">50</option>
									<option th:value="100" th:selected="${size == 100}">100</option>
								</select>
								<span style="margin-left: 8px;">件</span>
							</form>

							<button type="button" class="btn btn-success mb-2">メッセージ送信</button>

							<button type="button" class="btn btn-warning mb-2">ポイント追加</button>

							<div class="table-responsive">
								<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
									<thead>
										<tr>
											<th><input type="checkbox" id="selectAllCheckbox"></th>
											<th>ID</th>
											<th>ニックネーム</th>
											<th>所属</th>
											<th>年齢</th>
											<th>英語レベル</th>
											<th>講師</th>
											<th>ポイント</th>
											<th>状態</th>
											<th>会員種類</th>
											<th>詳細</th>
										</tr>
									</thead>
									
									<tbody>
										<tr th:each="student : ${studentPage.content}">
											<td><input type="checkbox" name="selectedIds" th:value="${student.id}"
													class="ListCheckbox"></td>
											<td th:text="${student.id}">ID</td>
											<td th:text="${student.nickname}">ニックネーム</td>
											<td th:text="${student.company != null && !#strings.isEmpty(student.company) ? student.company : '個人'}">所属</td>
											<td th:text="${student.age}">年齢</td>
											<td th:text="${student.englishLevel}">英語レベル</td>
											<td th:text="${student.teacherNickname}">講師</td>
											<td th:text="${student.point}">ポイント</td>
											<td th:text="${student.nullity ? '無効':'有効'}">状態</td>
											<td th:text="${student.role != null ? '学生' : student.role}">会員種類</td>
											<td><a th:href="@{/admin/student/detail/{id}(id=${student.studentNum})}">詳細</a></td>
										</tr>


									</tbody>
								</table>

								<!-- ページネーション -->
								<!--StudentListController-->
								<nav aria-label="Page navigation">
									<div class="d-flex justify-content-center mt-3">
										<ul class="pagination">
											
											<!--前へ-->
											<li class="page-item"
												th:classappend="${currentPage == 0} ? 'disabled'">
												<a class="page-link" 
												th:href="@{/admin/student-list(page=${currentPage -1}, size=${size}, sort=${sort}, dir=${dir})}" 
												aria-label="Previous">
												<span aria-hidden="true">&laquo;</span>
												</a>
											</li>
											
											<!--ページの番号-->
											<!--
												0から（studentPage.totalPages - 1）までループして、ページ番号のボタンを生成
												現在のページには 'active' クラスを付けて視覚的に強調！												
											-->
											<li class="page-item"
												th:each="i : ${#numbers.sequence(0, studentPage.totalPages -1)}" 
												th:classappend="${i == currentPage} ? 'active'">
												<a class="page-link"
												th:href="@{/admin/student-list(page=${i}, size=${size}, sort=${sort}, dir=${dir})}" 
												th:text="${i + 1}">1</a>
											</li>
											
											<!--次へ-->
											<li class="page-item" th:classappend="${currentPage + 1 == studentPage.totalPages} ? 'disabled'">
												<a class="page-link"
												   th:href="@{/admin/student-list(page=${currentPage + 1}, size=${size}, sort=${sort}, dir=${dir})}"
												   aria-label="Next">
													<span aria-hidden="true">&raquo;</span>
												</a>
											</li>
											
										</ul>
									</div>
								</nav>
								
							</div>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->

			</div>
			<!-- End of Main Content -->

			<!-- Footer -->
			<footer class="sticky-footer bg-white">
				<div class="container my-auto">
					<div class="copyright text-center my-auto">
						<span>Copyright &copy; Your Website 2020</span>
					</div>
				</div>
			</footer>
			<!-- End of Footer -->

		</div>
		<!-- End of Content Wrapper -->

	</div>
	<!-- End of Page Wrapper -->

	<!-- Scroll to Top Button-->
	<a class="scroll-to-top rounded" href="#page-top">
		<i class="fas fa-angle-up"></i>
	</a>

	<!-- Logout Modal-->
	<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
					<button class="close" type="button" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
				<div class="modal-footer">
					<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
					<a class="btn btn-primary" href="login.html">Logout</a>
				</div>
			</div>
		</div>
	</div>



	<!-- jQuery -->
	<script th:src="@{/vendor/jquery/jquery.min.js}"></script>
	
	<link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css" />
	<script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
	
	<!-- Bootstrap core JavaScript-->
	<!--<script th:src="@{/vendor/jquery/jquery.min.js}"></script>-->
	<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

	<!-- Core plugin JavaScript-->
	<script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>

	<!-- Custom scripts for all pages-->
	<script th:src="@{/js/sb-admin-2.min.js}"></script>
	
	<!--追加JS-->
	<script th:src="@{/js/customtables.js}"></script>
	<script th:src="@{/js/table-check-box.js}"></script>
</body>

</html>